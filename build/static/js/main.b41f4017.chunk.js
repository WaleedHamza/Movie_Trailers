(this.webpackJsonpmovie_trailers=this.webpackJsonpmovie_trailers||[]).push([[0],{131:function(e,t,a){e.exports=a(235)},136:function(e,t,a){},137:function(e,t,a){},162:function(e,t,a){},233:function(e,t,a){},235:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(4),i=a.n(r),l=(a(136),a(35)),s=a(36),c=a(38),m=a(37),u=a(39),h=(a(137),a(27)),p=a(41),d=a.n(p),v=a(77),g=a.n(v),b=a(238),f=a(239),E=a(244),k=a(237),y=a(241),w=a(242),O=a(243),j=a(240),S=(a(162),a(236));var _=function(e){var t=e.trailers;console.log("======",t);var a=[];return t.forEach((function(e,t){console.log("-----------------inside for each video player ",e);var n="https://www.youtube.com/watch?v=".concat(e.key),r=o.a.createElement(g.a,{url:n,controls:!0,key:t,width:"100%",height:"70vh"});a.push(r)})),o.a.createElement(o.a.Fragment,null,o.a.createElement(S.a,null,a))},M=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).populateModal=function(t){var a="https://api.themoviedb.org/3/movie/".concat(t,"?api_key=").concat("615416944a44ce93ed4100b890e43b0a","&append_to_response=videos");d.a.get(a).then((function(t){var a=t.data.videos.results,n=[];a.forEach((function(e){n.push(e)})),e.setState({trailers:n}),console.log("this is the trailers state",e.state.trailers)})),e.setState({visible:!0})},e.toggleModal=function(){e.setState({visible:!e.state.visible,trailers:[]})},e.state={trailers:[],visible:!1},e.populateModal=e.populateModal.bind(Object(h.a)(e)),e.toggleModal=e.toggleModal.bind(Object(h.a)(e)),e}return Object(u.a)(t,e),Object(s.a)(t,[{key:"visitHomePage",value:function(){var e="https://www.themoviedb.org/movie/"+this.props.movie.id;window.location.href=e}},{key:"render",value:function(){var e=this,t=this.props.movie;return o.a.createElement("div",{className:"container",key:t.id},o.a.createElement(y.a,{bsPrefix:"card"},o.a.createElement("div",{className:"card-img"},o.a.createElement(y.a.Img,{bsPrefix:"card-img",variant:"top",src:t.backdrop,alt:"movie_backdrop",onError:function(e){e.target.onerror=null,e.target.src="https://i.stack.imgur.com/GNhxO.png"}})),o.a.createElement(w.a,{bsPrefix:"poster"},o.a.createElement(w.a.Image,{bsPrefix:"figure-img",width:171,height:240,alt:"171x180",src:t.poster,onClick:function(a){a.preventDefault(),console.log(t.id),e.getTrailer(t.id)},onError:function(e){e.target.onerror=null,e.target.src="404.svg"}})),o.a.createElement(y.a.Body,{className:"movie_details",key:t.id},o.a.createElement(y.a.Title,null,o.a.createElement("h1",null,t.title)),o.a.createElement(y.a.Text,null,t.overview)),o.a.createElement(y.a.Footer,{bsPrefix:"card-footer"},o.a.createElement("small",{className:"text-muted"},"Release Date: ",t.release_date),o.a.createElement(O.a,{variant:"link",onClick:function(){e.populateModal(t.id)}},"Watch Trailer"))),o.a.createElement(j.a,{width:"70vw",visible:this.state.visible,onOk:this.toggleModal,onCancel:this.toggleModal,toggleModal:this.toggleModal},o.a.createElement(_,{trailers:this.state.trailers})))}}]),t}(n.Component),C=(a(233),a(234),function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).handleOk=function(t){e.setState({modal:{visible:!1}})},e.handleCancel=function(t){e.setState({modal:{visible:!1}})},e.state={loading:!1,noData:!1,movies:[],titleInput:""},e.onChange=e.onChange.bind(Object(h.a)(e)),e}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t="https://api.themoviedb.org/3/movie/popular?api_key=".concat("615416944a44ce93ed4100b890e43b0a","&language=en-US");d.a.get(t).then((function(t){var a=[];t.data.results.forEach((function(e){e.poster="https://image.tmdb.org/t/p/original"+e.poster_path,e.backdrop="https://image.tmdb.org/t/p/original"+e.backdrop_path;var t=o.a.createElement(M,{movie:e,key:e.id});a.push(t)})),e.setState({movies:a})}))}},{key:"onChange",value:function(e){var t=this;e.stopPropagation(),e.preventDefault(),e.nativeEvent.stopImmediatePropagation();var a="615416944a44ce93ed4100b890e43b0a",n=e.target.value;this.setState({titleInput:n});var r="https://api.themoviedb.org/3/movie/latest?api_key=".concat(a,"&language=en-US"),i="https://api.themoviedb.org/3/search/movie?api_key=".concat(a,"&language=en-US&query=").concat(n,"&page=1&include_adult=false");""===n?d.a.get(r).then((function(e){var a=[];e.data.results.forEach((function(e){e.poster="https://image.tmdb.org/t/p/original"+e.poster_path,e.backdrop="https://image.tmdb.org/t/p/original"+e.backdrop_path;var t=o.a.createElement(M,{movie:e,key:e.id});a.push(t)})),t.setState({movies:a})})):d.a.get(i).then((function(e){if(e.data.results>=0)return t.setState({loading:!1}),console.log("Looks like there was a problem. Status Code: "+e.status),void t.setState({noData:!0});var a=[];e.data.results.forEach((function(e){e.poster="https://image.tmdb.org/t/p/original"+e.poster_path,e.backdrop="https://image.tmdb.org/t/p/original"+e.backdrop_path;var t=o.a.createElement(M,{movie:e,key:e.id});a.push(t)})),t.setState({movies:a})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this.state.loading?o.a.createElement("div",{className:"loadingContainer"},o.a.createElement(k.a,{size:"large",className:"spinner"})):this.state.movies;return o.a.createElement("div",null,o.a.createElement(b.a,{bsPrefix:"jumbotron"},o.a.createElement("h1",{className:"title"},"Welcome to the MovieDB"),o.a.createElement("h3",{className:"intoduction"},"Search the MovieDB for your favorite movies, find out more information and watch trailers"),o.a.createElement(f.a,{className:"mb-3"},o.a.createElement(E.a,{bsPrefix:"searchInput","aria-label":"Default","aria-describedby":"inputGroup-sizing-default",className:"searchInput",type:"text",name:"searchMovie",value:this.state.titleInput,onChange:this.onChange,onClick:function(e){e.preventDefault()},placeholder:" Search..."}))),o.a.createElement("div",null,e))}}]),t}(n.Component)),x=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement("header",{className:"App-header"},o.a.createElement("h1",null,"Movie Search App"),o.a.createElement("img",{alt:"powers-by-tmdb",width:"50",src:"powered-by-rectangle-green.svg"})),o.a.createElement(C,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[131,1,2]]]);
//# sourceMappingURL=main.b41f4017.chunk.js.map